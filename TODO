Use poll()
better signal handling
